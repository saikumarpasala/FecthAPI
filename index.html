<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="vieport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fetch API Sandbox</title>
    <link rel="stylesheet"  href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">">
    </head>
    <body>
        <div class="container">
            <h1 class="display-4 mb-4">Fetch API Sandbox</h1>
            <div class="d-flex">

    <button class="btn btn-primary mr-4" id="getText">Get Text</button>
    <button class="btn btn-secondary mr-4" id="getUsers">Get json</button>
    <button  class="btn btn-warning" id="getUsers">Get API DATA</button>
    </div>
    <hr>
    <div id="output"></div>
    <form id="addpost">
        <div class="form-group">
        <input type="text" id="title" class="form-group "placeholder="Title">
        </div>
        <div class="form-group">
            <textarea id="body" class="form-group" placeholder="
            Body"></textarea>
        </div>
        <input type="submit" class="btn btn-secondary" value="submit">
    </form>
</div>
     

    <script>
    
        document.getElementById('getText').addEventListener('click',getText);
        document.getElementById('getUsers').addEventListener('click',getUsers);
        document.getElementById('getPosts').addEventListener('click',getPosts);
        document.getElementById('addpost').addEventListener('click',addposts);
     

        funtion getText(){
            fecth('sample.txt')
            .then(funtion(res)){
                return res.text();
            })
            .then(funtion(data){
                console.log(data);
            });
            fecth('sample.txt')
            .then((res) => res.text())
            .then((data) => {
                document.getElementById('output').innerHtml = data;
            });
            .catch((err) => console.log(err) )
            }

            funtion getUsers()
            fecth('user.json')
            .then((res) => res.json())
            .then((data) => {
                let output = '<h2>Users</h2>';
                data.forEach(funtion(user){
                output +=
            <ul class="list-group">
            <li class="list-group-item">ID: ${user.id}</li>
            <li class="list-group-item">Name: ${user.name}</li>
            <li class="list-group-item">Email: ${user.email}</li>
            </ul>
                   ;

                });
                document.getElementById('output').innerHTML = output;
            })
        }


        funtion getPosts(){
            fetch('htpp://jsonplaceholder.typicode.com/posts')
            .then((res) => res.json())
            .then((data) => {
                let output = '<h2>Posts</h2>';
                data.forEach(funtion(user){
                output +=
                <div>
                <h3>${posts.title}</h3>
                <p>${post.body}</p>
                </div> 
                
          
                   ;

                });
                document.getElementById('output').innerHTML = output;
            })  
        }

        function addposts(e){
            e.preventDefault();

            let title = document.getElementById('title').value;
            let body = document.getElementById('body').value;


        fecth('http://jsonplaceholder.typicode.com/posts',{
            method: 'POST',
          header: {
              'Accept' : 'application/json, text/plain, */*',
              'Content-type': 'application/json'
          },

          body:JSON.stringify({title:title, body:body})
        })  

        .then((res) => res.json())
        .then((data) => console.log(data))


    </script>
    </body>
</html>